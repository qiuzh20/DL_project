## Read Me

这里是文件search.py的使用说明

### 在使用前

本文件是清华大学2022年春季学期深度学习课程Project的一部分，内含封装好的两个类，分别用于对百度资讯和必应的搜索结果的爬取。

- 预先安装BeautifulSoup, Request库以正常使用本文件的功能
- 部分网页的服务器存在反爬机制，因此尽量避免短时间内对同一关键词的多次频繁搜索。
- 确保您的设备没有使用网络代理，否则程序可能无法正常连接至网页服务器

### 类及成员函数说明

文件中的两个类，BaiduSpider 以及 BingSpider 拥有完全一致的接口（后续可能会使用类继承重构代码），允许您调整搜索关键词、初始搜索数量以获取对应的搜索结果并将其保存在对应的txt文件之中。类的成员介绍如下：

- Spider.key 
  记录Spider实例的搜索关键词，此关键词会出现在搜索引擎的搜索框中。

- Spider.baseurl
  记录Spider实例的基础网址，此网址为您访问的浏览器的搜索页面网址的基础形式，需要在填充关键词和页面信息后才可以访问。

- Spider.url
  记录Spider实例即将访问的网址，此网址初始为Spider.baseurl,在搜索操作结束后为可以直接访问的搜索页面。

- Spider.headers
  Spider实例的访问请求头，通过模拟浏览器发送的信号来获取服务器信息。

- get_html(keywords, pagen):
  用于获取一部分搜索结果的标题与网址。
  参数：
  - keywords: 字符串类，搜索的关键词，你希望输入在浏览器的搜索框里的内容
  - pagen: 整数类，搜索页面的页码，通常为第一条搜索结果的序号（在文件的两个类中均如此）
  
  返回值：
  - datalist: 一个列表，代表搜索的结果。
  列表的每个元素item是一个字典，可以使用item['title']获取该结果的标题，使用item['link']获取该结果的网址

- unique(data):
  用于标题去重的函数，将搜索结果中具有重复标题的元素去除，以避免大量同质化结果的出现。去重只针对标题，标题不同的同质化网页并不会受到影响。
  参数：
  - data：列表类，传入的初步搜索结果
  
  返回值：
  - data: 列表类，为传入数据去重后的结果

- get_link(Keywords, num):
  用于获取搜索结果的标题和网址。
  参数：
  - Keywords: 字符串类，搜索的关键词，你希望输入在浏览器的搜索框里的内容
  - num: 整数类，搜索的目标范围，前（num// 10）* 10条搜索结果将被访问并筛选
  
  返回值：
  - data: 一个列表，代表全部搜索的结果。
  列表的每个元素item是一个字典，可以使用item['title']获取该结果的标题，使用item['link']获取该结果的网址

- countContent(para):
  用于获取网页内某一段落中汉字的方法
  参数：
  - para: 字符串类，网页某一部分对应的HTML代码段

  返回值：
  - content：字符串类，为该段中出现的所有汉字

- get_content(data):
  用于获取搜索结果对应网页的主要内容的方法
  参数：
  data: 列表类，代表搜索的结果。

  返回值：
  result: 列表类，代表全部搜索的结果。
  列表的每个元素item是一个字典，可以使用item['title']获取该结果的标题，使用item['link']获取该结果的网址，使用item['content']获取该结果的主要内容
   

- save_data(item，filename):
  将搜索的结果保存在txt文件中的方法
  参数：
  - item: 字典类，为搜索结果列表中的一个元素
  - filename: 字符串类，保存的目标文件的地址
  
  无返回值。
  保存的结果样式为：
  标题----------
  网址----------
  内容----------

  每次保存占用三行文字，以及一个空白行用于分隔
